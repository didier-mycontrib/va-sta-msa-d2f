dans docker-compose.yml:

soit password temporaire (de type INIT, TEMP, BOOTSTRAP qui sera changé après) soit vrai mot de passe mais surtout pas en clair sur git !!!
-------

possibilité 1:

docker compose avec 
.env
XYZ=xyzvalue

par défaut le fichier lu/interprété s'appelle .env , avec l'option --env-file .env.dev on peut ajuster différentes versions .env.dev , .env.prod
et on peut même placer plusieurs fois  --env-file sur la ligne de commande pour analyser des fichiers complémentaires
Attention: ça marche bien avec docker mais moins bien avec docker compose .

et param : "...:${XYZ}" ou "...:${XYZ:-defaultval}" dans docker-compose.yml 

===============
"...:${XYZ:-defaultval}" avec .env dans .gitignore semble etre une bonne combinaison

services:
  web:
    image: iiii:latest
    ports:
      - "127.0.0.1:${WEB_PORT:-80}:80"
    secrets:
      - app_secret
    environment:
      - APP_SECRET_FILE=/run/secrets/app_secret

secrets:
  app_secret:
    file: ./secret_key.sec.txt ou  ./secrets_symlink/secret_key.sec.txt avec /*-sec.txt dans gitignore

Attention: la variable d'environnement qui sera interprété par le container doit avoir un nom se terminant par _FILE
c'est au code de l'image d'avoir prévu une lecture du fichier pour découvrir la valeur secrete

